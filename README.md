

# AirSim é«˜æ€§èƒ½ RGBD ç›¸æœºæ‰©å±•ç‰ˆ

## ğŸš€ é¢å‘å®æ—¶ä»»åŠ¡çš„é«˜æ€§èƒ½ç›¸æœºç³»ç»Ÿ

æœ¬é¡¹ç›®åŸºäº [AirSim](https://github.com/microsoft/AirSim) å¼€å‘ï¼Œ**å¯¹ç›¸æœºç³»ç»Ÿè¿›è¡Œäº†æ·±åº¦ä¼˜åŒ–**ï¼Œé€‚ç”¨äºå®æ—¶ä»¿çœŸä»»åŠ¡ã€‚

---

### âœ… æ ¸å¿ƒæ”¹è¿›ï¼š

- é‡æ„ç›¸æœºæ¸²æŸ“ç®¡çº¿ï¼Œæ€§èƒ½æ˜¾è‘—æå‡ï¼›
- åœ¨ RTX 3060 ä¸Šï¼Œ1080Ã—720 åˆ†è¾¨ç‡å¯è¾¾ **25Hz çš„ RGB + Depth åŒæ­¥è¾“å‡º**ï¼›
- ç›¸æ¯”åŸç‰ˆ AirSim åŒæ¡ä»¶ä¸‹ä»…çº¦ 5Hzï¼›
- æ›´é€‚åˆ SLAMã€è§†è§‰å¯¼èˆªã€è§†è§‰æ§åˆ¶ç­‰æœºå™¨äººåº”ç”¨åœºæ™¯ã€‚

---

## ğŸ“¦ ä½¿ç”¨é¢„ç¼–è¯‘ç‰ˆæœ¬ï¼ˆæ¨èï¼‰

æˆ‘ä»¬åœ¨ [Releases](https://github.com/9woods123/Airsim_faster_rgbd/releases) ä¸­ä¸Šä¼ äº†ä¸€ä¸ª **å¯ç›´æ¥è¿è¡Œçš„ Unreal å¯æ‰§è¡Œæ–‡ä»¶ç‰ˆæœ¬ï¼ˆæ‰“åŒ…å¥½çš„æ¸¸æˆï¼‰**ã€‚

å¦‚æœä½ ä¸æ‰“ç®—è‡ªå·±æ‰“å¼€ UE ç¼–è¯‘é¡¹ç›®ï¼Œå¯ç›´æ¥ä½¿ç”¨ä»¥ä¸‹æ–¹å¼è¿è¡Œï¼š

### âœ… ç›´æ¥è¿è¡Œæ–¹å¼ï¼ˆLinuxï¼‰

1. è¿›å…¥ Release é¡µé¢ï¼Œä¸‹è½½ Linux ç‰ˆæœ¬çš„å‹ç¼©åŒ…ï¼›
2. è§£å‹åï¼Œè¿›å…¥è§£å‹ç›®å½•ï¼›
3. è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨æ¸¸æˆï¼š

```bash
./uav_sim.sh
```

> å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œå¯æ‰§è¡Œï¼š
>
> ```bash
> chmod +x uav_sim.sh
> ```

### âœ… ä½¿ç”¨æ³¨æ„ï¼š

- é»˜è®¤æ”¯æŒ **AirSim RPC æ¥å£** å’Œ **ä¼˜åŒ–åçš„ RGBD ç›¸æœºæ¥å£**ï¼›
- å¯ä¸ ROS æ¡¥ï¼ˆ[cmd2airsim](https://github.com/9woods123/cmd2airsim.git)ï¼‰é…åˆä½¿ç”¨ï¼›
- ä½ ä¾ç„¶å¯ä»¥ä½¿ç”¨é”®ç›˜ â€œCâ€ æ‰“å¼€/å…³é—­ RGBD ç›¸æœº UI é¢æ¿ã€‚

---

## ğŸ”§ å¦‚æœä½ å¸Œæœ›è‡ªå·±ç¼–è¯‘å·¥ç¨‹

è¯·å‚è€ƒä»¥ä¸‹æµç¨‹ï¼š

1. å…‹éš†ä»“åº“ï¼š

   ```bash
   git clone https://github.com/9woods123/Airsim_faster_rgbd.git
   ```

2. ä½¿ç”¨ Unreal Editor æ‰“å¼€ `uav_sim.uproj`ï¼›
3. å³é”® â†’ ç”Ÿæˆ Visual Studio é¡¹ç›®ï¼ˆWindowsï¼‰ï¼›
4. ç¼–è¯‘åè¿è¡Œå³å¯ã€‚

---

## ğŸ® Unreal è®¾ç½®å»ºè®®

ä¸ºè·å¾—æœ€ä½³å¸§ç‡ï¼Œè¯·å°†ä»¥ä¸‹é€‰é¡¹å…³é—­ï¼š

- `Project Settings > Engine > General Settings`
- å°†ï¼š

  ```text
  Framerate > Use Fixed Frame Rate = false
  ```

  è®¾ç½®ä¸º falseï¼Œé¿å…é™åˆ¶æ¸²æŸ“é€Ÿç‡ã€‚

---



## ğŸ—º åœ¨è‡ªå®šä¹‰åœ°å›¾ä¸­ä½¿ç”¨ AirSim

å¦‚æœä½ å¸Œæœ›åœ¨ **è‡ªå·±çš„å…³å¡ï¼ˆMapï¼‰ä¸­ä½¿ç”¨æœ¬é¡¹ç›®çš„ RGBD ç›¸æœºç³»ç»Ÿ**ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

### âœ… æ­¥éª¤å¦‚ä¸‹ï¼š

1. **åˆ›å»ºæˆ–æ‰“å¼€ä½ çš„è‡ªå®šä¹‰å…³å¡**ï¼›
2. **å°† `BP_FlyingPawn` æ‹–å…¥åœºæ™¯**ï¼ˆè¯¥è“å›¾åŒ…å«äº†ä¼˜åŒ–åçš„ RGBD ç›¸æœºï¼‰ï¼›
3. å¯é€‰ï¼šå°† `PlayerStart` åˆ é™¤æˆ–ç§»åŠ¨è‡³ä¸ `BP_FlyingPawn` ä½ç½®ä¸€è‡´ï¼›
4. ç‚¹å‡»èœå•æ  **â€œEdit > Project Settingsâ€**ï¼Œç¡®è®¤å¦‚ä¸‹è®¾ç½®ï¼š

   - `Maps & Modes > Default GameMode`ï¼š
     - GameModeï¼šé€‰æ‹© `AirSimGameMode`ï¼›
     - Default Pawn Classï¼šç¡®ä¿ä¸º `BP_FlyingPawn`ï¼›
   
5. ä¿å­˜åœ°å›¾ï¼Œç‚¹å‡»â€œPlayâ€è¿è¡Œï¼Œå³å¯åœ¨ä½ çš„åœ°å›¾ä¸­ä½¿ç”¨ AirSim åŠ RGBD ç›¸æœºåŠŸèƒ½ã€‚

### ğŸ” ç»‘å®šä½ çš„åœ°å›¾ä¸ºé»˜è®¤åŠ è½½ï¼š

è‹¥å¸Œæœ›å¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½ä½ è‡ªå·±çš„åœ°å›¾ï¼Œå¯è®¾ç½®ï¼š

```text
Project Settings > Maps & Modes > Editor Startup Map / Game Default Map
```

é€‰æ‹©ä½ çš„å…³å¡åï¼ˆä¾‹å¦‚ `MyCustomMap`ï¼‰ã€‚

## ğŸ“· ROS é›†æˆ

é…å¥—çš„ ROS æ¥å£æ¡¥é¡¹ç›®è§ï¼š

ğŸ‘‰ [https://github.com/9woods123/cmd2airsim.git](https://github.com/9woods123/cmd2airsim.git)

æ”¯æŒå°†ä¼˜åŒ–åçš„ RGBD ç›¸æœºå›¾åƒå®æ—¶å‘å¸ƒè‡³ ROSï¼Œä¾¿äºèåˆè§†è§‰ä¿¡æ¯å¤„ç†ã€‚

